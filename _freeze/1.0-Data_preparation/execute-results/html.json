{
  "hash": "6e3d65cb5d10f7d8ef468c626d4f6ccd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Raw data cleaning and processing to generate Health Canada diet simulation data\"\nauthor: \"Didier Brassard\"\ndate: \"2024-05-29\"\ncode checked by:\ncode checked date:\nrun time: <1min\noutput:\n html_document:\n   code_folding: \"show\"\n---\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#### Set-up and Library ####\n# *********************************************************************** #\n#                           Set-up and Library                            #\n# *********************************************************************** #\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ********************************************** #\n#                    Library                     #\n# ********************************************** #\n\n## data\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(tidylog)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'tidylog' was built under R version 4.3.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nAttaching package: 'tidylog'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:dplyr':\n\n    add_count, add_tally, anti_join, count, distinct, distinct_all,\n    distinct_at, distinct_if, filter, filter_all, filter_at, filter_if,\n    full_join, group_by, group_by_all, group_by_at, group_by_if,\n    inner_join, left_join, mutate, mutate_all, mutate_at, mutate_if,\n    relocate, rename, rename_all, rename_at, rename_if, rename_with,\n    right_join, sample_frac, sample_n, select, select_all, select_at,\n    select_if, semi_join, slice, slice_head, slice_max, slice_min,\n    slice_sample, slice_tail, summarise, summarise_all, summarise_at,\n    summarise_if, summarize, summarize_all, summarize_at, summarize_if,\n    tally, top_frac, top_n, transmute, transmute_all, transmute_at,\n    transmute_if, ungroup\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following object is masked from 'package:stats':\n\n    filter\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(readxl)\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nAttaching package: 'janitor'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(hefi2019) # Install with <devtools::install_github(\"didierbrassard/hefi2019\")>\n\n## presentation\nlibrary(gt)\n\n## project\nlibrary(here)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nhere() starts at /Users/DidierBrassard/RStudio/NuAge_protocol\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n## suppress scientific notation\noptions(scipen = 9999)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ********************************************** #\n#                  Directories                   #\n# ********************************************** #\n\n## Local directory\ndir_scripts <- here::here(\"scripts\")\ndir_metadata <- here::here(\"data\", \"metadata\")\ndir_processed <- here::here(\"data\", \"processed\")\ndir_raw <- here::here(\"data\",\"raw\")\ndir_results <- here::here(\"data\", \"results\")\ndir_temp <- here::here(\"data\",\"temp\")\nif(dir.exists(dir_temp)==FALSE){\n  dir.create(dir_temp)\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ********************************************** #\n#            Load functions and data             #\n# ********************************************** #\n\nsource(file.path(dir_scripts, \"save_and_summarize_data.R\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#### Preparing Health Canada diet simulation ####\n# *********************************************************************** #\n#                Preparing Health Canada diet simulation                  #\n# *********************************************************************** #\n\n# Objective:\n# 1) read and format simulation data;\n# 2) output table of dietary constituents and nutrients (1 diet = wide format)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n##### 1) Download/read data #####\n# ********************************************** #\n#               Download/read data               #\n# ********************************************** #\n\n# Omnivore\n  if(file.exists(file.path(dir_raw,\"HC_simulated_omni.xlsx\"))==FALSE){\n  download.file(\"https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be/resource/94064331-b1b9-41f5-9ba8-1bf77b880053/download/simulated-composite-diets-omnivore.xlsx\",\n                destfile =file.path(dir_raw,\"HC_simulated_omni.xlsx\"))\n  } else {\n    message(\"dir_raw/HC_simulated_omni.xlsx found. Date modified:\", file.info(file.path(dir_raw,\"HC_simulated_omni.xlsx\"))$mtime)\n  }\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\ndir_raw/HC_simulated_omni.xlsx found. Date modified:2024-02-12 16:04:51.148568\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# Omnivore, no beverages\n  if(file.exists(file.path(dir_raw,\"HC_simulated_omni_nobev.xlsx\"))==FALSE){\n  download.file(\"https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be/resource/66919cac-5d2d-4617-be01-9faafd539f2f/download/simulated-composite-diets-omnivore-no-healthy-beverages.xlsx\",\n                destfile =file.path(dir_raw,\"HC_simulated_omni_nobev.xlsx\"))\n  } else {\n    message(\"dir_raw/HC_simulated_omni_nobev.xlsx found. Date modified:\", file.info(file.path(dir_raw,\"HC_simulated_omni_nobev.xlsx\"))$mtime)\n  }\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\ndir_raw/HC_simulated_omni_nobev.xlsx found. Date modified:2024-02-12 16:04:51.835032\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# Lacto-ovo-vege\n  if(file.exists(file.path(dir_raw,\"HC_simulated_vege.xlsx\"))==FALSE){\n  download.file(\"https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be/resource/3813380e-9978-4d19-995b-c4617ad58019/download/simulated-composite-diets-lacto-ovo-vegetarian.xlsx\",\n                destfile =file.path(dir_raw,\"HC_simulated_vege.xlsx\"))\n  } else {\n    message(\"dir_raw/HC_simulated_vege.xlsx found. Date modified:\", file.info(file.path(dir_raw,\"HC_simulated_vege.xlsx\"))$mtime)\n  }\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\ndir_raw/HC_simulated_vege.xlsx found. Date modified:2024-02-12 16:04:52.443573\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n##### 2) Function to read and output data #####\n# ********************************************** #\n#        Function to read and output data        #\n# ********************************************** #\n```\n:::\n\n\n\n\n\nRead Nutrient Data and Output\n\nThis function reads diet simulation data from an Excel file, performs some cleaning\noperations, and outputs a list containing serving data, total nutrients, and\ncomposite food-specific nutrients.\n\n@param hc_file Character string, the name of the Excel file.\n@param dri_group Character string, the sheet name in the Excel file.\n@param total_rownb Numeric, the total number of rows to read from the table in the `dri_group`-specific sheet\n\n@return A list containing serving data, total nutrients, and composite food-specific nutrients.\n\n@examples\n\\dontrun{\nread_n_output(\"example_file.xlsx\", \"sheet_name\", 20)\n}\n\n@import readxl\n@import janitor\n@import stringr\n@import dplyr\n\n@export\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nread_n_output <- function(hc_file, dri_group, total_rownb = 20) {\n  \n  message(paste0(\"Reading: \",hc_file, \"; sheet: \", dri_group))\n  # Helper function for reading Excel data\n  read_excel_data <- function(range) {\n    readxl::read_excel(\n      file.path(dir_raw, hc_file),\n      sheet = dri_group,\n      range = range\n    )\n  }\n  cat(\"Composite food serving ...\\n\")\n  # Composite servings\n  serving <- read_excel_data(paste0(\"A3:C\", total_rownb-1)) |>\n    janitor::clean_names() |>\n    select(-x3) |>\n    setNames(c(\"NB_RA\", \"COMPOSITE\")) |>\n    mutate(COMPOSITE = stringr::str_squish(COMPOSITE)) |>\n    select(COMPOSITE, NB_RA)\n  \n  # Total nutrients\n  cat(\"Total nutrient ...\\n\")\n  varnames_nut <- read_excel_data(\"E2:AJ3\") |> names()\n  total_nut <- read_excel_data(paste0(\"E3:AJ\", total_rownb)) |>\n    janitor::clean_names() |>\n    setNames(varnames_nut) \n  \n  # Composite food-specific nutrients\n  cat(\"Composite food-specific nutrients ...\\n\")\n  composite_nut <- read_excel_data(paste0(\"A3:AJ\", total_rownb-1)) |>\n    janitor::clean_names() |>\n    janitor::remove_empty(which = \"cols\") |>\n    setNames(c(\"NB_RA\", \"COMPOSITE\", varnames_nut)) |>\n    mutate(COMPOSITE = stringr::str_squish(COMPOSITE))\n  \n  return(list(serving, total_nut, composite_nut))  \n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n##### 3) Apply function to each DRI group #####\n# ********************************************** #\n#        Apply function to each DRI group        #\n# ********************************************** #\n\n# note: using omnivore diets with beverage as most likely reflect majority of Canadians\n\nhc_file <- \"HC_simulated_omni.xlsx\"\n\ndrig12 <- \n  read_n_output(\n    hc_file  ,\n    dri_group   = \"M 51-70\",\n    total_rownb = 19\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nReading: HC_simulated_omni.xlsx; sheet: M 51-70\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nComposite food serving ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nselect: dropped one variable (x3)\nmutate: no changes\nselect: columns reordered (COMPOSITE, NB_RA)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nTotal nutrient ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n• `` -> `...4`\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...10`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...16`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n• `` -> `...30`\n• `` -> `...31`\n• `` -> `...32`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nComposite food-specific nutrients ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\nmutate: no changes\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n• `` -> `...4`\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...10`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...16`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n• `` -> `...30`\n• `` -> `...31`\n• `` -> `...32`\n• `` -> `...33`\n• `` -> `...34`\n• `` -> `...35`\n• `` -> `...36`\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\ndrig14 <- \n  read_n_output(\n    hc_file  ,\n    dri_group   = \"M 70 +\",\n    total_rownb = 22\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nReading: HC_simulated_omni.xlsx; sheet: M 70 +\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nComposite food serving ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\nselect: dropped one variable (x3)\nmutate: no changes\nselect: columns reordered (COMPOSITE, NB_RA)\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nTotal nutrient ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n• `` -> `...4`\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...10`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...16`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n• `` -> `...30`\n• `` -> `...31`\n• `` -> `...32`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nComposite food-specific nutrients ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\nmutate: no changes\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n• `` -> `...4`\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...10`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...16`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n• `` -> `...30`\n• `` -> `...31`\n• `` -> `...32`\n• `` -> `...33`\n• `` -> `...34`\n• `` -> `...35`\n• `` -> `...36`\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\ndrig13 <- \n  read_n_output(\n    hc_file  ,\n    dri_group   = \"F 51-70\",\n    total_rownb = 20\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nReading: HC_simulated_omni.xlsx; sheet: F 51-70\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nComposite food serving ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\nselect: dropped one variable (x3)\nmutate: no changes\nselect: columns reordered (COMPOSITE, NB_RA)\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nTotal nutrient ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n• `` -> `...4`\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...10`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...16`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n• `` -> `...30`\n• `` -> `...31`\n• `` -> `...32`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nComposite food-specific nutrients ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\nmutate: no changes\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n• `` -> `...4`\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...10`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...16`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n• `` -> `...30`\n• `` -> `...31`\n• `` -> `...32`\n• `` -> `...33`\n• `` -> `...34`\n• `` -> `...35`\n• `` -> `...36`\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\ndrig15 <- \n  read_n_output(\n    hc_file ,\n    dri_group   = \"F 70 +\",\n    total_rownb = 20\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nReading: HC_simulated_omni.xlsx; sheet: F 70 +\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nComposite food serving ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\nselect: dropped one variable (x3)\nmutate: no changes\nselect: columns reordered (COMPOSITE, NB_RA)\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nTotal nutrient ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n• `` -> `...4`\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...10`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...16`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n• `` -> `...30`\n• `` -> `...31`\n• `` -> `...32`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nComposite food-specific nutrients ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\nmutate: no changes\n• `` -> `...1`\n• `` -> `...2`\n• `` -> `...3`\n• `` -> `...4`\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...10`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...16`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n• `` -> `...30`\n• `` -> `...31`\n• `` -> `...32`\n• `` -> `...33`\n• `` -> `...34`\n• `` -> `...35`\n• `` -> `...36`\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n##### 4) Calculate total intakes for each DRI group #####\n# ********************************************** #\n#   Calculate total intakes for each DRI group   #\n# ********************************************** #\n```\n:::\n\n\n\n\n\nCalculate DRI group Nutrients\n\nThis function calculates nutrient summary for a specific DRI group.\n\n@param drig A list containing DRI group data.\n@param drig_suffix Numeric, the DRI group suffix (e.g., 12).\n@param nut_list Character, vector of nutrients (i.e., variable names) for which totals should be calculated\n\n@return A data frame containing the calculated nutrient summary for the specified DRI group.\n\n@examples\n\\dontrun{\ndrig12_nutrients <- calculate_drig_nutrients(drig12, 12)\n}\n\n@import dplyr\n\n@export\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ncalculate_drig_nutrients <- function(drig, drig_suffix, nut_list = c(\"EKC\",\"FSUG\",\"FAS\",\"FAM\",\"FAP\",\"SOD\",\"PRO\")) {\n  \n  # Output detailed summary to calculate fat intake (missing)\n  all_but_total <- drig[[2]][1:nrow(drig[[2]])-1,]\n  \n  drig_nut <-\n    drig[[2]] |>\n    select(all_of(nut_list)) |>\n    slice_tail() |>\n    mutate(\n      # add missing nutrients\n      FAM = sum(all_but_total$FAM, na.rm = TRUE),\n      FAP = sum(all_but_total$FAP, na.rm = TRUE),\n      # add drig id\n      drig = drig_suffix\n    )\n  \n    return(drig_nut)\n}\n\n# ************************** #\n#   Apply function on list   #\n# ************************** #\n\ndrig_all <- list(drig12, drig14, drig13, drig15)\ndrig_suffix_all <- c(12, 14, 13, 15)\n\ndrig_nut_all <- \n  Map(calculate_drig_nutrients, drig_all, drig_suffix_all) |>\n  purrr::reduce(rbind)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nselect: dropped 25 variables (CAR, FI, SUG, FAT, FAL, …)\nslice_tail: removed 15 rows (94%), one row remaining\nmutate: changed one value (100%) of 'FAM' (one fewer NA)\n        changed one value (100%) of 'FAP' (one fewer NA)\n        new variable 'drig' (double) with one unique value and 0% NA\nselect: dropped 25 variables (CAR, FI, SUG, FAT, FAL, …)\nslice_tail: removed 18 rows (95%), one row remaining\nmutate: changed one value (100%) of 'FAM' (one fewer NA)\n        changed one value (100%) of 'FAP' (one fewer NA)\n        new variable 'drig' (double) with one unique value and 0% NA\nselect: dropped 25 variables (CAR, FI, SUG, FAT, FAL, …)\nslice_tail: removed 16 rows (94%), one row remaining\nmutate: new variable 'drig' (double) with one unique value and 0% NA\nselect: dropped 25 variables (CAR, FI, SUG, FAT, FAL, …)\nslice_tail: removed 16 rows (94%), one row remaining\nmutate: changed one value (100%) of 'FAM' (one fewer NA)\n        changed one value (100%) of 'FAP' (one fewer NA)\n        new variable 'drig' (double) with one unique value and 0% NA\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# ************************** #\n#   Males, 51-70: drig=12    #\n# ************************** #\n\ndrig12_ra <- \n  drig12[[1]] |>\n  mutate(drig=12)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nmutate: new variable 'drig' (double) with one unique value and 0% NA\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# ************************** #\n#    Males, 71 +: drig=14    #\n# ************************** #\n\ndrig14_ra <- \n  drig14[[1]] |>\n  mutate(drig=14)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nmutate: new variable 'drig' (double) with one unique value and 0% NA\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# ************************** #\n#  Females, 51-70: drig=13   #\n# ************************** #\n\ndrig13_ra <- \n  drig13[[1]] |>\n  mutate(drig=13)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nmutate: new variable 'drig' (double) with one unique value and 0% NA\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# ************************** #\n#    Males, 71 +: drig=15    #\n# ************************** #\n\ndrig15_ra <- \n  drig15[[1]] |>\n  mutate(drig=15)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nmutate: new variable 'drig' (double) with one unique value and 0% NA\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n##### 5) Append data together #####\n# ********************************************** #\n#              Append data together              #\n# ********************************************** #\n\ndietsim_bydrig <-\n  rbind(\n    drig12_ra , drig14_ra , drig13_ra , drig15_ra) |>\n  mutate(\n    # Add HEFI-2019 classification\n    hefi2019subgrp =\n      case_when(\n        grepl(\"TOTAL VEGETABLES\",COMPOSITE)>0 ~ \"vf\",\n        grepl(\"TOTAL WHOLE\",COMPOSITE)>0 ~ \"wg\",\n        grepl(\"ANIMAL-BASED\",COMPOSITE)>0 ~ \"pfab\",\n        grepl(\"PLANT-BASED\",COMPOSITE)>0 ~ \"pfpb\",\n        grepl(\"HEALTHY BEVERAGES\",COMPOSITE)>0 ~ \"milk_plantbev\",\n        grepl(\"UNSATURATED OILS\",COMPOSITE)>0 ~ \"ufa\"\n      ) # end of case_when\n  ) |> # end of mutate\n  # remove non-hefi food groups (i.e., subclassification)\n  filter(is.na(hefi2019subgrp)==FALSE) |>\n  # Transpose long data to wide\n  select(-COMPOSITE) |>\n  pivot_wider(\n    names_from  = \"hefi2019subgrp\",\n    values_from = \"NB_RA\"\n  ) |>\n  # add hefi-2019 nutrients\n  full_join(\n    drig_nut_all,\n    by = \"drig\"\n  ) |>\n  # ensure variable names are not capital letters\n  janitor::clean_names()\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nmutate: new variable 'hefi2019subgrp' (character) with 7 unique values and 63% NA\nfilter: removed 41 rows (63%), 24 rows remaining\nselect: dropped one variable (COMPOSITE)\npivot_wider: reorganized (NB_RA, hefi2019subgrp) into (vf, wg, pfpb, pfab, milk_plantbev, …) [was 24x3, now 4x7]\nfull_join: added 7 columns (EKC, FSUG, FAS, FAM, FAP, …)\n           > rows only in pivot_wider(select(filt..  0\n           > rows only in drig_nut_all               0\n           > matched rows                            4\n           >                                        ===\n           > rows total                              4\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# Generate an 'overall' row\ndietsim_drig0 <- \n  dietsim_bydrig |>\n  # calculate mean\n  summarise(\n    across(.cols=all_of(names(dietsim_bydrig[-1])),\n           function(x) mean(x),\n           .names =\"{col}\" )\n  ) |>\n  mutate(\n    drig=0\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nsummarise: now one row and 13 columns, ungrouped\nmutate: new variable 'drig' (double) with one unique value and 0% NA\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\ndim(dietsim_drig0); head(dietsim_drig0)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  1 14\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 14\n     vf    wg  pfpb  pfab milk_plantbev   ufa   ekc  fsug   fas   fam   fap\n  <dbl> <dbl> <dbl> <dbl>         <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n1  9.03  3.92  2.04  1.88             1     1 1865.  6.37  10.2  21.5  20.1\n# ℹ 3 more variables: sod <dbl>, pro <dbl>, drig <dbl>\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# Add 'overall' row to drig-specific rows\ndietsim <- \n  rbind(dietsim_bydrig, dietsim_drig0) |>\n  arrange(drig) |>\n  mutate(\n    drig_f = \n      factor(drig,\n             levels = c(0, 12, 13, 14, 15),\n             labels = c(\"Male and female, 51 y or older\",\n                        \"Male, 51-70 y\",\n                        \"Female, 51-70 y\",\n                        \"Male, 71y+\",\n                        \"Female, 71y+\"))\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nmutate: new variable 'drig_f' (factor) with 5 unique values and 0% NA\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\ndim(dietsim); names(dietsim); head(dietsim)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  5 15\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"drig\"          \"vf\"            \"wg\"            \"pfpb\"         \n [5] \"pfab\"          \"milk_plantbev\" \"ufa\"           \"ekc\"          \n [9] \"fsug\"          \"fas\"           \"fam\"           \"fap\"          \n[13] \"sod\"           \"pro\"           \"drig_f\"       \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 15\n   drig    vf    wg  pfpb  pfab milk_plantbev   ufa   ekc  fsug   fas   fam\n  <dbl> <dbl> <dbl> <dbl> <dbl>         <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n1     0  9.03  3.92  2.04  1.88             1     1 1865.  6.37 10.2   21.5\n2    12  9.93  5     2.42  2.29             1     1 2259.  7.10 11.7   24.4\n3    13  8.56  3.5   2     1.85             1     1 1737.  5.52  9.74  20.8\n4    14  9.93  4.2   2     1.84             1     1 1959.  6.98 10.6   22.3\n5    15  7.71  3     1.72  1.56             1     1 1507.  5.87  8.71  18.5\n# ℹ 4 more variables: fap <dbl>, sod <dbl>, pro <dbl>, drig_f <fct>\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# ************************** #\n#         Add labels         #\n# ************************** #\n\nlabelled::var_label(dietsim) <-\nlist(\n  drig          = \"DRI age and sex group\",\n  drig_f        = \"DRI age and sex group\",\n  vf            = \"Vegetables and fruits, RA/d\",\n  wg            = \"Whole-grain foods, RA/d\",\n  pfpb          = \"Protein foods, plant-based, RA/d\",\n  pfab          = \"Protein foods, animal-based, RA/d\",\n  milk_plantbev = \"Unsweetened milk and plant beverage with protein, RA/d\",\n  ufa           = \"Unsaturated fats, RA/d\",\n  ekc           = \"Total energy intake, kcal/d\",\n  fsug          = \"Free sugars, grams/d\",\n  fas           = \"Saturated fats, grams/d\",\n  fam           = \"Monounsaturated fats, grams/d\",\n  fap           = \"Polyunsaturated fats, grams/d\",\n  sod           = \"Sodium, mg/d\",\n  pro           = \"Protein, grams/d\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#### Calculate HEFI-2019 scores ####\n# ********************************************** #\n#           Calculate HEFI-2019 scores           #\n# ********************************************** #\n\n# Apply the hefi-2019 scoring algorithm\n \ndietsim_hefi <-\n  dietsim |>\n  mutate(\n    # Change milk_plantbev RA to grams\n    milk_plantbev = milk_plantbev*258,\n    # Without further information for milk_plantbev = split half/half\n    milk = milk_plantbev/2,\n    plantbev = milk_plantbev/2\n  ) |>\n  hefi2019::hefi2019(#indata      = dietsim,\n    vegfruits          = vf,\n    wholegrfoods       = wg,\n    nonwholegrfoods    = 0,\n    profoodsanimal     = pfab,\n    profoodsplant      = pfpb,\n    otherfoods         = 0,\n    waterhealthybev    = 0,\n    unsweetmilk        = milk,\n    unsweetplantbevpro = plantbev,\n    otherbeverages     = 0 ,\n    mufat              = fam ,\n    pufat              = fap ,\n    satfat             = fas ,\n    freesugars         = fsug,\n    sodium             = sod,\n    energy             = ekc\n  )\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nHealthy Eating Food Index-2019 Scoring Algorithm R version 1.4\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nmutate: changed 5 values (100%) of 'milk_plantbev' (0 new NAs)\n        new variable 'milk' (double) with one unique value and 0% NA\n        new variable 'plantbev' (double) with one unique value and 0% NA\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# ************************** #\n#         Add labels         #\n# ************************** #\n\nlabelled::var_label(dietsim_hefi) <-\n  list(\n    drig          = \"DRI age and sex group\",\n    drig_f        = \"DRI age and sex group\",\n    vf            = \"Vegetables and fruits, RA/d\",\n    wg            = \"Whole-grain foods, RA/d\",\n    pfpb          = \"Protein foods, plant-based, RA/d\",\n    pfab          = \"Protein foods, animal-based, RA/d\",\n    milk_plantbev = \"Unsweetened milk and plant beverage with protein, RA/d\",\n    ufa           = \"Unsaturated fats, RA/d\",\n    ekc           = \"Total energy intake, kcal/d\",\n    fsug          = \"Free sugars, grams/d\",\n    fas           = \"Saturated fats, grams/d\",\n    fam           = \"Monounsaturated fats, grams/d\",\n    fap           = \"Polyunsaturated fats, grams/d\",\n    sod           = \"Sodium, mg/d\",\n    pro           = \"Protein, grams/d\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#### Summary and save ####\n# ********************************************** #\n#                Summary and save                #\n# ********************************************** #\n\n# summary\ndietsim |>\n  select(-c(\"drig\", \"ekc\":\"pro\")) |>\n  gt::gt() |>\n  gt::cols_move_to_start(\"drig_f\") |>\n  gt::fmt_number(columns = everything(), decimals = 1) |>\n  gt::tab_header(\"Intakes of major food categories in Health Canada simulated diets, by DRI group\") |>\n  gt::tab_source_note(source_note = \"Data from Health Canada. (2022). Simulated composite diets. Available at https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nselect: dropped 8 variables (drig, ekc, fsug, fas, fam, …)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"adsdwvfmqb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#adsdwvfmqb table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#adsdwvfmqb thead, #adsdwvfmqb tbody, #adsdwvfmqb tfoot, #adsdwvfmqb tr, #adsdwvfmqb td, #adsdwvfmqb th {\n  border-style: none;\n}\n\n#adsdwvfmqb p {\n  margin: 0;\n  padding: 0;\n}\n\n#adsdwvfmqb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#adsdwvfmqb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#adsdwvfmqb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#adsdwvfmqb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#adsdwvfmqb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#adsdwvfmqb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#adsdwvfmqb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#adsdwvfmqb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#adsdwvfmqb .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#adsdwvfmqb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#adsdwvfmqb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#adsdwvfmqb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#adsdwvfmqb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#adsdwvfmqb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#adsdwvfmqb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#adsdwvfmqb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#adsdwvfmqb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#adsdwvfmqb .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#adsdwvfmqb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#adsdwvfmqb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#adsdwvfmqb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#adsdwvfmqb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#adsdwvfmqb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#adsdwvfmqb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#adsdwvfmqb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#adsdwvfmqb .gt_left {\n  text-align: left;\n}\n\n#adsdwvfmqb .gt_center {\n  text-align: center;\n}\n\n#adsdwvfmqb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#adsdwvfmqb .gt_font_normal {\n  font-weight: normal;\n}\n\n#adsdwvfmqb .gt_font_bold {\n  font-weight: bold;\n}\n\n#adsdwvfmqb .gt_font_italic {\n  font-style: italic;\n}\n\n#adsdwvfmqb .gt_super {\n  font-size: 65%;\n}\n\n#adsdwvfmqb .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#adsdwvfmqb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#adsdwvfmqb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#adsdwvfmqb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#adsdwvfmqb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#adsdwvfmqb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#adsdwvfmqb .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Intakes of major food categories in Health Canada simulated diets, by DRI group</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"DRI age and sex group\">DRI age and sex group</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Vegetables and fruits, RA/d\">Vegetables and fruits, RA/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Whole-grain foods, RA/d\">Whole-grain foods, RA/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Protein foods, plant-based, RA/d\">Protein foods, plant-based, RA/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Protein foods, animal-based, RA/d\">Protein foods, animal-based, RA/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Unsweetened milk and plant beverage with protein, RA/d\">Unsweetened milk and plant beverage with protein, RA/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Unsaturated fats, RA/d\">Unsaturated fats, RA/d</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Male and female, 51 y or older</td>\n<td headers=\"vf\" class=\"gt_row gt_right\">9.0</td>\n<td headers=\"wg\" class=\"gt_row gt_right\">3.9</td>\n<td headers=\"pfpb\" class=\"gt_row gt_right\">2.0</td>\n<td headers=\"pfab\" class=\"gt_row gt_right\">1.9</td>\n<td headers=\"milk_plantbev\" class=\"gt_row gt_right\">1.0</td>\n<td headers=\"ufa\" class=\"gt_row gt_right\">1.0</td></tr>\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Male, 51-70 y</td>\n<td headers=\"vf\" class=\"gt_row gt_right\">9.9</td>\n<td headers=\"wg\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"pfpb\" class=\"gt_row gt_right\">2.4</td>\n<td headers=\"pfab\" class=\"gt_row gt_right\">2.3</td>\n<td headers=\"milk_plantbev\" class=\"gt_row gt_right\">1.0</td>\n<td headers=\"ufa\" class=\"gt_row gt_right\">1.0</td></tr>\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Female, 51-70 y</td>\n<td headers=\"vf\" class=\"gt_row gt_right\">8.6</td>\n<td headers=\"wg\" class=\"gt_row gt_right\">3.5</td>\n<td headers=\"pfpb\" class=\"gt_row gt_right\">2.0</td>\n<td headers=\"pfab\" class=\"gt_row gt_right\">1.9</td>\n<td headers=\"milk_plantbev\" class=\"gt_row gt_right\">1.0</td>\n<td headers=\"ufa\" class=\"gt_row gt_right\">1.0</td></tr>\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Male, 71y+</td>\n<td headers=\"vf\" class=\"gt_row gt_right\">9.9</td>\n<td headers=\"wg\" class=\"gt_row gt_right\">4.2</td>\n<td headers=\"pfpb\" class=\"gt_row gt_right\">2.0</td>\n<td headers=\"pfab\" class=\"gt_row gt_right\">1.8</td>\n<td headers=\"milk_plantbev\" class=\"gt_row gt_right\">1.0</td>\n<td headers=\"ufa\" class=\"gt_row gt_right\">1.0</td></tr>\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Female, 71y+</td>\n<td headers=\"vf\" class=\"gt_row gt_right\">7.7</td>\n<td headers=\"wg\" class=\"gt_row gt_right\">3.0</td>\n<td headers=\"pfpb\" class=\"gt_row gt_right\">1.7</td>\n<td headers=\"pfab\" class=\"gt_row gt_right\">1.6</td>\n<td headers=\"milk_plantbev\" class=\"gt_row gt_right\">1.0</td>\n<td headers=\"ufa\" class=\"gt_row gt_right\">1.0</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"7\">Data from Health Canada. (2022). Simulated composite diets. Available at https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code .hidden}\ndietsim |>\n  select(\"drig_f\", \"ekc\":\"pro\") |>\n  gt::gt() |>\n  gt::cols_move_to_start(\"drig_f\") |>\n  gt::fmt_number(columns = everything(), decimals = 1) |>\n  gt::tab_header(\"Intakes of major nutrients in Health Canada simulated diets, by DRI group\") |>\n  gt::tab_source_note(source_note = \"Data from Health Canada. (2022). Simulated composite diets. Available at https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nselect: dropped 7 variables (drig, vf, wg, pfpb, pfab, …)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"pqzaldgoin\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pqzaldgoin table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pqzaldgoin thead, #pqzaldgoin tbody, #pqzaldgoin tfoot, #pqzaldgoin tr, #pqzaldgoin td, #pqzaldgoin th {\n  border-style: none;\n}\n\n#pqzaldgoin p {\n  margin: 0;\n  padding: 0;\n}\n\n#pqzaldgoin .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pqzaldgoin .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pqzaldgoin .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pqzaldgoin .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pqzaldgoin .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pqzaldgoin .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pqzaldgoin .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pqzaldgoin .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pqzaldgoin .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pqzaldgoin .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pqzaldgoin .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pqzaldgoin .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pqzaldgoin .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pqzaldgoin .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pqzaldgoin .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqzaldgoin .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pqzaldgoin .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pqzaldgoin .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pqzaldgoin .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqzaldgoin .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pqzaldgoin .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqzaldgoin .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pqzaldgoin .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqzaldgoin .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pqzaldgoin .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqzaldgoin .gt_left {\n  text-align: left;\n}\n\n#pqzaldgoin .gt_center {\n  text-align: center;\n}\n\n#pqzaldgoin .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pqzaldgoin .gt_font_normal {\n  font-weight: normal;\n}\n\n#pqzaldgoin .gt_font_bold {\n  font-weight: bold;\n}\n\n#pqzaldgoin .gt_font_italic {\n  font-style: italic;\n}\n\n#pqzaldgoin .gt_super {\n  font-size: 65%;\n}\n\n#pqzaldgoin .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pqzaldgoin .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pqzaldgoin .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pqzaldgoin .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pqzaldgoin .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pqzaldgoin .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pqzaldgoin .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"8\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Intakes of major nutrients in Health Canada simulated diets, by DRI group</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"DRI age and sex group\">DRI age and sex group</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Total energy intake, kcal/d\">Total energy intake, kcal/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Free sugars, grams/d\">Free sugars, grams/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Saturated fats, grams/d\">Saturated fats, grams/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Monounsaturated fats, grams/d\">Monounsaturated fats, grams/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Polyunsaturated fats, grams/d\">Polyunsaturated fats, grams/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Sodium, mg/d\">Sodium, mg/d</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Protein, grams/d\">Protein, grams/d</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Male and female, 51 y or older</td>\n<td headers=\"ekc\" class=\"gt_row gt_right\">1,865.3</td>\n<td headers=\"fsug\" class=\"gt_row gt_right\">6.4</td>\n<td headers=\"fas\" class=\"gt_row gt_right\">10.2</td>\n<td headers=\"fam\" class=\"gt_row gt_right\">21.5</td>\n<td headers=\"fap\" class=\"gt_row gt_right\">20.1</td>\n<td headers=\"sod\" class=\"gt_row gt_right\">1,065.8</td>\n<td headers=\"pro\" class=\"gt_row gt_right\">97.6</td></tr>\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Male, 51-70 y</td>\n<td headers=\"ekc\" class=\"gt_row gt_right\">2,258.8</td>\n<td headers=\"fsug\" class=\"gt_row gt_right\">7.1</td>\n<td headers=\"fas\" class=\"gt_row gt_right\">11.7</td>\n<td headers=\"fam\" class=\"gt_row gt_right\">24.4</td>\n<td headers=\"fap\" class=\"gt_row gt_right\">20.8</td>\n<td headers=\"sod\" class=\"gt_row gt_right\">1,174.3</td>\n<td headers=\"pro\" class=\"gt_row gt_right\">118.7</td></tr>\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Female, 51-70 y</td>\n<td headers=\"ekc\" class=\"gt_row gt_right\">1,736.7</td>\n<td headers=\"fsug\" class=\"gt_row gt_right\">5.5</td>\n<td headers=\"fas\" class=\"gt_row gt_right\">9.7</td>\n<td headers=\"fam\" class=\"gt_row gt_right\">20.8</td>\n<td headers=\"fap\" class=\"gt_row gt_right\">20.5</td>\n<td headers=\"sod\" class=\"gt_row gt_right\">992.5</td>\n<td headers=\"pro\" class=\"gt_row gt_right\">91.7</td></tr>\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Male, 71y+</td>\n<td headers=\"ekc\" class=\"gt_row gt_right\">1,958.7</td>\n<td headers=\"fsug\" class=\"gt_row gt_right\">7.0</td>\n<td headers=\"fas\" class=\"gt_row gt_right\">10.6</td>\n<td headers=\"fam\" class=\"gt_row gt_right\">22.3</td>\n<td headers=\"fap\" class=\"gt_row gt_right\">20.7</td>\n<td headers=\"sod\" class=\"gt_row gt_right\">1,141.7</td>\n<td headers=\"pro\" class=\"gt_row gt_right\">102.1</td></tr>\n    <tr><td headers=\"drig_f\" class=\"gt_row gt_center\">Female, 71y+</td>\n<td headers=\"ekc\" class=\"gt_row gt_right\">1,507.0</td>\n<td headers=\"fsug\" class=\"gt_row gt_right\">5.9</td>\n<td headers=\"fas\" class=\"gt_row gt_right\">8.7</td>\n<td headers=\"fam\" class=\"gt_row gt_right\">18.5</td>\n<td headers=\"fap\" class=\"gt_row gt_right\">18.4</td>\n<td headers=\"sod\" class=\"gt_row gt_right\">954.5</td>\n<td headers=\"pro\" class=\"gt_row gt_right\">77.9</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"8\">Data from Health Canada. (2022). Simulated composite diets. Available at https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code .hidden}\ndietsim_hefi |>\n  select(starts_with(\"HEFI2019\")) |>\n  gt::gt() |>\n  gt::fmt_number(columns = everything(), decimals = 1) |>\n  gt::tab_header(\"HEFI-2019 scores of Health Canada simulated diets, by DRI group\") |>\n  gt::tab_source_note(source_note = \"Based on data from Health Canada. (2022). Simulated composite diets. Available at https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nselect: dropped 28 variables (drig, vf, wg, pfpb, pfab, …)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"xmhthouzni\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#xmhthouzni table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#xmhthouzni thead, #xmhthouzni tbody, #xmhthouzni tfoot, #xmhthouzni tr, #xmhthouzni td, #xmhthouzni th {\n  border-style: none;\n}\n\n#xmhthouzni p {\n  margin: 0;\n  padding: 0;\n}\n\n#xmhthouzni .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#xmhthouzni .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xmhthouzni .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xmhthouzni .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xmhthouzni .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xmhthouzni .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xmhthouzni .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xmhthouzni .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xmhthouzni .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#xmhthouzni .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#xmhthouzni .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xmhthouzni .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xmhthouzni .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xmhthouzni .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xmhthouzni .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xmhthouzni .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xmhthouzni .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xmhthouzni .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#xmhthouzni .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xmhthouzni .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xmhthouzni .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xmhthouzni .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xmhthouzni .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xmhthouzni .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xmhthouzni .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xmhthouzni .gt_left {\n  text-align: left;\n}\n\n#xmhthouzni .gt_center {\n  text-align: center;\n}\n\n#xmhthouzni .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xmhthouzni .gt_font_normal {\n  font-weight: normal;\n}\n\n#xmhthouzni .gt_font_bold {\n  font-weight: bold;\n}\n\n#xmhthouzni .gt_font_italic {\n  font-style: italic;\n}\n\n#xmhthouzni .gt_super {\n  font-size: 65%;\n}\n\n#xmhthouzni .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#xmhthouzni .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xmhthouzni .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xmhthouzni .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xmhthouzni .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xmhthouzni .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xmhthouzni .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"11\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>HEFI-2019 scores of Health Canada simulated diets, by DRI group</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C1 Vegetables and fruits\">HEFI2019 C1 Vegetables and fruits</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C2 Whole-grain foods\">HEFI2019 C2 Whole-grain foods</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C3 Grain foods ratio\">HEFI2019 C3 Grain foods ratio</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C4 Protein foods\">HEFI2019 C4 Protein foods</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C5 Plant-based protein foods\">HEFI2019 C5 Plant-based protein foods</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C6 Beverages\">HEFI2019 C6 Beverages</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C7 Fatty acids ratio\">HEFI2019 C7 Fatty acids ratio</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C8 Saturated fats\">HEFI2019 C8 Saturated fats</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C9 Free sugars\">HEFI2019 C9 Free sugars</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"HEFI2019 C10 Sodium\">HEFI2019 C10 Sodium</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Total Healthy Eating Food Index (/80)\">Total Healthy Eating Food Index (/80)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"HEFI2019C1_VF\" class=\"gt_row gt_right\">20.0</td>\n<td headers=\"HEFI2019C2_WHOLEGR\" class=\"gt_row gt_right\">4.4</td>\n<td headers=\"HEFI2019C3_GRRATIO\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C4_PROFOODS\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C5_PLANTPRO\" class=\"gt_row gt_right\">4.1</td>\n<td headers=\"HEFI2019C6_BEVERAGES\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C7_FATTYACID\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C8_SFAT\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C9_FREESUGARS\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C10_SODIUM\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019_TOTAL_SCORE\" class=\"gt_row gt_right\">78.5</td></tr>\n    <tr><td headers=\"HEFI2019C1_VF\" class=\"gt_row gt_right\">19.2</td>\n<td headers=\"HEFI2019C2_WHOLEGR\" class=\"gt_row gt_right\">4.8</td>\n<td headers=\"HEFI2019C3_GRRATIO\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C4_PROFOODS\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C5_PLANTPRO\" class=\"gt_row gt_right\">4.2</td>\n<td headers=\"HEFI2019C6_BEVERAGES\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C7_FATTYACID\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C8_SFAT\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C9_FREESUGARS\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C10_SODIUM\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019_TOTAL_SCORE\" class=\"gt_row gt_right\">78.3</td></tr>\n    <tr><td headers=\"HEFI2019C1_VF\" class=\"gt_row gt_right\">20.0</td>\n<td headers=\"HEFI2019C2_WHOLEGR\" class=\"gt_row gt_right\">4.1</td>\n<td headers=\"HEFI2019C3_GRRATIO\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C4_PROFOODS\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C5_PLANTPRO\" class=\"gt_row gt_right\">4.1</td>\n<td headers=\"HEFI2019C6_BEVERAGES\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C7_FATTYACID\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C8_SFAT\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C9_FREESUGARS\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C10_SODIUM\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019_TOTAL_SCORE\" class=\"gt_row gt_right\">78.3</td></tr>\n    <tr><td headers=\"HEFI2019C1_VF\" class=\"gt_row gt_right\">20.0</td>\n<td headers=\"HEFI2019C2_WHOLEGR\" class=\"gt_row gt_right\">4.4</td>\n<td headers=\"HEFI2019C3_GRRATIO\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C4_PROFOODS\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C5_PLANTPRO\" class=\"gt_row gt_right\">4.1</td>\n<td headers=\"HEFI2019C6_BEVERAGES\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C7_FATTYACID\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C8_SFAT\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C9_FREESUGARS\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C10_SODIUM\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019_TOTAL_SCORE\" class=\"gt_row gt_right\">78.6</td></tr>\n    <tr><td headers=\"HEFI2019C1_VF\" class=\"gt_row gt_right\">20.0</td>\n<td headers=\"HEFI2019C2_WHOLEGR\" class=\"gt_row gt_right\">4.0</td>\n<td headers=\"HEFI2019C3_GRRATIO\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C4_PROFOODS\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C5_PLANTPRO\" class=\"gt_row gt_right\">4.0</td>\n<td headers=\"HEFI2019C6_BEVERAGES\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C7_FATTYACID\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C8_SFAT\" class=\"gt_row gt_right\">5.0</td>\n<td headers=\"HEFI2019C9_FREESUGARS\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019C10_SODIUM\" class=\"gt_row gt_right\">10.0</td>\n<td headers=\"HEFI2019_TOTAL_SCORE\" class=\"gt_row gt_right\">78.0</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"11\">Based on data from Health Canada. (2022). Simulated composite diets. Available at https://open.canada.ca/data/dataset/0490749d-b0b0-410a-9577-a903c6cec2be</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code .hidden}\n# save intake only\nsave_and_summarize_data(\n  dietsim,\n  dir = dir_processed,\n  dir_metadata = dir_metadata\n)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nOutput file written: /Users/DidierBrassard/RStudio/NuAge_protocol/data/metadata/dietsim.html\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# save intake + hefi\nsave_and_summarize_data(\n  dietsim_hefi,\n  dir = dir_processed,\n  dir_metadata = dir_metadata\n)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nOutput file written: /Users/DidierBrassard/RStudio/NuAge_protocol/data/metadata/dietsim_hefi.html\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# *********************************************************************** #\n#                              End of code                                #\n# *********************************************************************** #\n\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.3.1 (2023-06-16)\nPlatform: x86_64-apple-darwin20 (64-bit)\nRunning under: macOS Sonoma 14.5\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: America/Toronto\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] summarytools_1.0.1 here_1.0.1         gt_0.10.1          hefi2019_0.0.1.4  \n[5] janitor_2.2.0      readxl_1.4.3       tidylog_1.1.0      dplyr_1.1.4       \n\nloaded via a namespace (and not attached):\n [1] sass_0.4.9        utf8_1.2.4        generics_0.1.3    tidyr_1.3.1      \n [5] tcltk_4.3.1       xml2_1.3.6        stringi_1.8.4     rematch_2.0.0    \n [9] hms_1.1.3         digest_0.6.35     magrittr_2.0.3    evaluate_0.23    \n[13] timechange_0.3.0  fastmap_1.2.0     plyr_1.8.9        cellranger_1.1.0 \n[17] rprojroot_2.0.4   jsonlite_1.8.8    rapportools_1.1   backports_1.4.1  \n[21] pander_0.6.5      purrr_1.0.2       fansi_1.0.6       codetools_0.2-20 \n[25] cli_3.6.2         labelled_2.13.0   rlang_1.1.3       base64enc_0.1-3  \n[29] withr_3.0.0       yaml_2.3.8        tools_4.3.1       reshape2_1.4.4   \n[33] pryr_0.1.6        checkmate_2.3.1   forcats_1.0.0     vctrs_0.6.5      \n[37] R6_2.5.1          matrixStats_1.3.0 magick_2.8.3      lifecycle_1.0.4  \n[41] lubridate_1.9.3   snakecase_0.11.1  stringr_1.5.1     htmlwidgets_1.6.4\n[45] MASS_7.3-60.0.1   clisymbols_1.2.0  pkgconfig_2.0.3   pillar_1.9.0     \n[49] Rcpp_1.0.12       glue_1.7.0        haven_2.5.4       xfun_0.44        \n[53] tibble_3.2.1      tidyselect_1.2.1  rstudioapi_0.16.0 knitr_1.45       \n[57] htmltools_0.5.8.1 rmarkdown_2.27    compiler_4.3.1   \n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}